<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Willkommen zur Nettiquette</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root{
      --blue:#1976d2;
      --bg:#f7f9fc;
      --card:#fff;
      --ink:#333;
    }
    *{box-sizing:border-box}
    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      margin:0;background:var(--bg);color:var(--ink);
    }
    header{
      background:var(--blue);color:#fff;text-align:center;padding:24px 12px;
    }
    header h1{margin:0 0 6px 0;font-weight:700}
    header p{margin:0;opacity:.9}
    main{
      max-width:760px;margin:24px auto;background:var(--card);padding:20px;
      border-radius:12px;box-shadow:0 6px 24px rgba(0,0,0,.07);
    }
    h2{margin-top:0}
    .row{margin:14px 0}
    label{display:block;margin-bottom:6px;font-weight:600}
    select,input{
      width:100%;padding:10px;border:1px solid #ccd6e0;border-radius:8px;
      background:#fff;outline:none;
    }
    .btn{
      display:inline-block;background:var(--blue);color:#fff;border:none;
      border-radius:10px;padding:10px 16px;cursor:pointer
    }
    .btn:hover{filter:brightness(.95)}
    .rules{
      background:#eef5ff;border-left:5px solid var(--blue);
      padding:14px;border-radius:10px;margin-top:18px
    }
    .rules ul{margin:8px 0 0 18px}
    .qr{text-align:center;margin-top:22px}
    .qr img{width:220px;height:220px;display:block;margin:10px auto;border-radius:8px;box-shadow:0 6px 16px rgba(0,0,0,.08)}
    .muted{color:#5c6a78;font-size:.95rem}
  </style>
</head>
<body>
  <header>
    <h1>Willkommen zur Nettiquette</h1>
    <p>Demokratie & soziales Handeln im Netz</p>
  </header>

  <main>
    <h2>WÃ¤hle deine Klasse & Nickname</h2>

    <div class="row">
      <label for="klasse">Klasse:</label>
      <select id="klasse">
        <option>Klasse 5a</option>
        <option>Klasse 5b</option>
        <option>Klasse 6a</option>
        <option>Klasse 6b</option>
      </select>
    </div>

    <div class="row">
      <label for="nick">Nickname:</label>
      <input id="nick" type="text" placeholder="Dein Name">
      <div style="margin-top:8px">
        <!-- wichtig: type="button", sonst lÃ¤dt das Formular neu -->
        <button class="btn" id="openRoomBtn" type="button">Raum Ã¶ffnen</button>
      </div>
    </div>

    <div class="rules">
      <h3>ðŸ“‹ Regeln fÃ¼r den Chatroom</h3>
      <ul>
        <li>Formuliere in der <b>Ich-Form</b> (â€žIch denkeâ€¦â€œ).</li>
        <li>Keine Beleidigungen/SchimpfwÃ¶rter, keine Unterstellungen.</li>
        <li>Kein <b>BRÃœLLEN IN GROSSBUCHSTABEN</b>, keine Emoji-Flut.</li>
        <li>Freundlich bleiben â€“ auch bei Kritik. Nachfragen hilft.</li>
      </ul>
      <p class="muted">Du bekommst Punkte fÃ¼r hÃ¶fliches Verhalten. VerstÃ¶ÃŸe kosten Punkte.</p>
    </div>

    <div class="qr">
      <p>ðŸ“± Scanne den QR-Code und Ã¶ffne den Chat direkt auf deinem iPad:</p>
      <img src="data:image/jpeg;base64,...">
    </div>
  </main>

  <!-- nur EIN Script -->
  <script>
    document.getElementById("openRoomBtn").addEventListener("click", (e) => {
      e.preventDefault();

      const klasse = document.getElementById("klasse").value;
      const nick = document.getElementById("nick").value.trim();

      if (!nick) {
        alert("Bitte gib einen Nickname ein!");
        return;
      }

      // Weiterleitung zur Chat-Seite mit Parametern
      window.location.href = `room_chat.html?klasse=${encodeURIComponent(klasse)}&nick=${encodeURIComponent(nick)}`;
    });
  </script>
</body>
</html>
